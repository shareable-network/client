<h3>New Publication</h3>
<div class="row">
  <form x-data="newPublicationRoute()" @submit.prevent="save" class="col s12">
    <div class="input-field">
      <input x-model="channelId" maxlength="31" id="channelId" type="text" class="validate">
      <label for="channelId">Channel Id</label>
    </div>
    <div class="input-field">
      <input x-model="collectionId" maxlength="31" id="collectionId" type="text" class="validate">
      <label for="collectionId">Collection Id</label>
    </div>
    <div class="input-field">
      <input x-model="contentId" maxlength="31" id="contentId" type="text" class="validate">
      <label for="contentId">Content Slug</label>
    </div>

    <h5>Content</h5>
    <div class="row">
      <div class="col s12">
        <ul class="tabs">
          <li class="tab col s3"><a class="active" href="#mediatab">Media</a></li>
          <li class="tab col s3"><a href="#texttab">Text</a></li>
        </ul>
      </div>
      <div id="mediatab" class="col s12">
        <div class="file-field input-field">
          <div class="btn green">
            <span>File</span>
            <input type="file" @change="upload($event.target.files[0])" accept="video/*,audio/*,image/*">
          </div>
          <div class="file-path-wrapper">
            <input class="file-path validate" type="text">
          </div>
        </div>
        <div class="progress" x-show="uploading"><div class="indeterminate"></div></div>
      </div>
      <div id="texttab" class="col s12">
        <div id="editor">
          <p>Hello <u>World!</u></p>
        </div>
        <button class="waves-effect waves-light btn-small green" @click="upload(quill.container.querySelector('.ql-editor').innerHTML)">Upload</button>
        <div class="progress" x-show="uploading"><div class="indeterminate"></div></div>
      </div>
    </div>

    <h5>Metadata</h5>
    <ul>
      <template x-for="(item, index) in Object.entries(contentMetadata)" :key="index" x-id="['id', 'value']">
        <div class="row">
          <div class="input-field col s6">
            <input x-model="contentMetadata[index].id" maxlength="31" :id="$id('id')" type="text" class="validate">
            <label :for="$id('id')">Key</label>
          </div>
          <div class="input-field col s6">
            <input x-model="contentMetadata[index].value" :id="$id('value')" type="text" class="validate">
            <label :for="$id('value')">Value</label>
            <span x-show="contentMetadata[index].hint" x-text="contentMetadata[index].hint" class="helper-text" data-error="wrong" data-success="right"></span>
          </div>
        </div>
      </template>
    </ul>
    <div class="row"><i class="Small material-icons" @click="contentMetadata.push({key: '', value: ''})">add</i></div>

    <button class="waves-effect waves-light btn-large green">Save</button>
  </form>
</div>
